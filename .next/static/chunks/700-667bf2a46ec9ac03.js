"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[700],{518:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(1066).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},6884:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(1066).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},3642:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(1066).Z)("MessagesSquare",[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v5Z",key:"16vlm8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]])},8137:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(1066).Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},7529:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(1066).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},7091:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(1066).Z)("SendHorizontal",[["path",{d:"m3 3 3 9-3 9 19-9Z",key:"1aobqy"}],["path",{d:"M6 12h16",key:"s4cdu5"}]])},399:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(1066).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},4096:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(2265),a={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function o(e){var t=function(e){if("number"==typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return a[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}(e);return"".concat(t.value).concat(t.unit)}var c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n},l=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return r;var a=document.createElement("style");document.head.appendChild(a);var o=a.sheet,c="\n    @keyframes ".concat(r," {\n      ").concat(t,"\n    }\n  ");return o&&o.insertRule(c,0),r}("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat"),u=function(e){var t=e.loading,n=e.color,a=void 0===n?"#000000":n,u=e.speedMultiplier,s=void 0===u?1:u,d=e.cssOverride,f=e.size,p=void 0===f?15:f,y=e.margin,h=void 0===y?2:y,m=i(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),v=c({display:"inherit"},void 0===d?{}:d),g=function(e){return{display:"inline-block",backgroundColor:a,width:o(p),height:o(p),margin:o(h),borderRadius:"100%",animation:"".concat(l," ").concat(.7/s,"s ").concat(e%2?"0s":"".concat(.35/s,"s")," infinite linear"),animationFillMode:"both"}};return void 0===t||t?r.createElement("span",c({style:v},m),r.createElement("span",{style:g(1)}),r.createElement("span",{style:g(2)}),r.createElement("span",{style:g(3)})):null}},4458:function(e,t,n){n.d(t,{Ee:function(){return g},NY:function(){return b},fC:function(){return v}});var r=n(2988),a=n(2265),o=n(8324),c=n(5137),i=n(1336),l=n(5171);let u="Avatar",[s,d]=(0,o.b)(u),[f,p]=s(u),y=(0,a.forwardRef)((e,t)=>{let{__scopeAvatar:n,...o}=e,[c,i]=(0,a.useState)("idle");return(0,a.createElement)(f,{scope:n,imageLoadingStatus:c,onImageLoadingStatusChange:i},(0,a.createElement)(l.WV.span,(0,r.Z)({},o,{ref:t})))}),h=(0,a.forwardRef)((e,t)=>{let{__scopeAvatar:n,src:o,onLoadingStatusChange:u=()=>{},...s}=e,d=p("AvatarImage",n),f=function(e){let[t,n]=(0,a.useState)("idle");return(0,i.b)(()=>{if(!e){n("error");return}let t=!0,r=new window.Image,a=e=>()=>{t&&n(e)};return n("loading"),r.onload=a("loaded"),r.onerror=a("error"),r.src=e,()=>{t=!1}},[e]),t}(o),y=(0,c.W)(e=>{u(e),d.onImageLoadingStatusChange(e)});return(0,i.b)(()=>{"idle"!==f&&y(f)},[f,y]),"loaded"===f?(0,a.createElement)(l.WV.img,(0,r.Z)({},s,{ref:t,src:o})):null}),m=(0,a.forwardRef)((e,t)=>{let{__scopeAvatar:n,delayMs:o,...c}=e,i=p("AvatarFallback",n),[u,s]=(0,a.useState)(void 0===o);return(0,a.useEffect)(()=>{if(void 0!==o){let e=window.setTimeout(()=>s(!0),o);return()=>window.clearTimeout(e)}},[o]),u&&"loaded"!==i.imageLoadingStatus?(0,a.createElement)(l.WV.span,(0,r.Z)({},c,{ref:t})):null}),v=y,g=h,b=m},3678:function(e,t,n){n.d(t,{GO:function(){return d}});var r=n(2265),a=n(4525),o={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},c={code:"1",name:"function_call",parse:e=>{if(null==e||"object"!=typeof e||!("function_call"in e)||"object"!=typeof e.function_call||null==e.function_call||!("name"in e.function_call)||!("arguments"in e.function_call)||"string"!=typeof e.function_call.name||"string"!=typeof e.function_call.arguments)throw Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}}},i={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw Error('"data" parts expect an array value.');return{type:"data",value:e}}},l={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},u={code:"4",name:"assistant_message",parse:e=>{if(null==e||"object"!=typeof e||!("id"in e)||!("role"in e)||!("content"in e)||"string"!=typeof e.id||"string"!=typeof e.role||"assistant"!==e.role||!Array.isArray(e.content)||!e.content.every(e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},s={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}};function d(){let{api:e="/api/completion",id:t,initialCompletion:n="",initialInput:o="",credentials:c,headers:i,body:l,onResponse:u,onFinish:s,onError:d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=(0,r.useId)(),p=t||f,{data:y,mutate:h}=(0,a.default)([e,p],null,{fallbackData:n}),{data:m=!1,mutate:v}=(0,a.default)([p,"loading"],null),[g,b]=(0,r.useState)(void 0),[w,x]=(0,r.useState)(null),k=(0,r.useRef)({credentials:c,headers:i,body:l});(0,r.useEffect)(()=>{k.current={credentials:c,headers:i,body:l}},[c,i,l]);let _=(0,r.useCallback)(async(t,n)=>{try{v(!0),b(void 0);let r=new AbortController;x(r),h("",!1);let a=await fetch(e,{method:"POST",body:JSON.stringify({prompt:t,...k.current.body,...null==n?void 0:n.body}),credentials:k.current.credentials,headers:{...k.current.headers,...null==n?void 0:n.headers},signal:r.signal}).catch(e=>{throw e});if(u)try{await u(a)}catch(e){throw e}if(!a.ok)throw Error(await a.text()||"Failed to fetch the chat response.");if(!a.body)throw Error("The response body is empty.");let o="",c=a.body.getReader(),i=function(e){let t=new TextDecoder;return function(e){return e?t.decode(e,{stream:!0}):""}}();for(;;){let{done:e,value:t}=await c.read();if(e)break;if(o+=i(t),h(o,!1),null===r){c.cancel();break}}return s&&s(t,o),x(null),o}catch(e){if("AbortError"===e.name)return x(null),null;e instanceof Error&&d&&d(e),b(e)}finally{v(!1)}},[h,v,e,k,x,u,s,d,b]),E=(0,r.useCallback)(()=>{w&&(w.abort(),x(null))},[w]),S=(0,r.useCallback)(e=>{h(e,!1)},[h]),Z=(0,r.useCallback)(async(e,t)=>_(e,t),[_]),[j,I]=(0,r.useState)(o),C=(0,r.useCallback)(e=>{if(e.preventDefault(),j)return Z(j)},[j,Z]);return{completion:y,complete:Z,error:g,setCompletion:S,stop:E,input:j,setInput:I,handleInputChange:e=>{I(e.target.value)},handleSubmit:C,isLoading:m}}o.code,c.code,i.code,l.code,u.code,s.code,o.name,o.code,c.name,c.code,i.name,i.code,l.name,l.code,u.name,u.code,s.name,s.code,[o,c,i,l,u,s].map(e=>e.code),((e,t=21)=>(n=t)=>{let r="",a=n;for(;a--;)r+=e[Math.random()*e.length|0];return r})("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7)}}]);