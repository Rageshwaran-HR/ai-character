"use strict";(()=>{var e={};e.id=723,e.ids=[723],e.modules={53524:e=>{e.exports=require("@prisma/client")},17804:e=>{e.exports=require("@prisma/client/scripts/default-index.js")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},72254:e=>{e.exports=require("node:buffer")},6005:e=>{e.exports=require("node:crypto")},87561:e=>{e.exports=require("node:fs")},88849:e=>{e.exports=require("node:http")},22286:e=>{e.exports=require("node:https")},87503:e=>{e.exports=require("node:net")},49411:e=>{e.exports=require("node:path")},97742:e=>{e.exports=require("node:process")},84492:e=>{e.exports=require("node:stream")},72477:e=>{e.exports=require("node:stream/web")},41041:e=>{e.exports=require("node:url")},47261:e=>{e.exports=require("node:util")},65628:e=>{e.exports=require("node:zlib")},77282:e=>{e.exports=require("process")},71267:e=>{e.exports=require("worker_threads")},26406:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>g,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>f,staticGenerationAsyncStorage:()=>h});var n={};r.r(n),r.d(n,{POST:()=>l});var s=r(49303),a=r(88716),i=r(60670),o=r(12650),c=r(87070),u=r(3719);async function l(e){try{let t=await e.json(),r=await (0,o.ar)(),{src:n,name:s,description:a,instructions:i,seed:l,categoryId:p}=t;if(!r||!r.id||!r.firstName)return new c.NextResponse("Unauthorized",{status:401});if(!n||!s||!a||!i||!l||!p)return new c.NextResponse("Missing required fields",{status:400});let d=await u.Z.companion.create({data:{categoryId:p,userId:r.id,userName:r.firstName,src:n,name:s,description:a,instructions:i,seed:l}});return c.NextResponse.json(d)}catch(e){return console.log("[COMPANION_POST]",e),new c.NextResponse("Internal Error",{status:500})}}let p=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/companion/route",pathname:"/api/companion",filename:"route",bundlePath:"app/api/companion/route"},resolvedPagePath:"C:\\Users\\rages\\OneDrive\\Desktop\\New folder\\ai\\ai-companion\\app\\api\\companion\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:d,staticGenerationAsyncStorage:h,serverHooks:f}=p,m="/api/companion/route";function g(){return(0,i.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:h})}},3719:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(53524),s=r(18899);let a=new n.PrismaClient().$extends((0,s.z)()),i=globalThis.prisma||a},49303:(e,t,r)=>{e.exports=r(30517)},18899:(e,t,r)=>{r.d(t,{z:()=>c});var n=r(17804);let s="@prisma/extension-accelerate";var a=r(22286);async function i(e,t={}){let r={method:t.method,headers:{...t.headers,"Content-Type":"application/json"}},n=[],{origin:s}=new URL(e);return new Promise((c,u)=>{let l=a.request(e,r,e=>{let{statusCode:r=200,headers:{location:a}}=e;r>=301&&r<=399&&a&&(!1===a.startsWith("http")?c(i(`${s}${a}`,t)):c(i(a,t))),e.on("data",e=>n.push(e)),e.on("end",()=>c(function(e,t){let{statusCode:r=200,url:n,headers:s}=t;return{text:()=>Promise.resolve(Buffer.concat(e).toString()),json:()=>Promise.resolve(JSON.parse(Buffer.concat(e).toString())),ok:r>=200&&r<=299,status:r,url:n,headers:new o(s)}}(n,e))),e.on("error",u)});l.on("error",u),l.end(t.body??"")})}class o{#e=new Map;constructor(e={}){for(let[t,r]of Object.entries(e))if("string"==typeof r)this.#e.set(t,r);else if(Array.isArray(r))for(let e of r)this.#e.set(t,e)}append(e,t){this.#e.set(e,t)}delete(e){this.#e.delete(e)}get(e){return this.#e.get(e)??null}has(e){return this.#e.has(e)}set(e,t){this.#e.set(e,t)}forEach(e,t){for(let[r,n]of this.#e)e.call(t,n,r,this)}}function c(){return function(e){let t=function(e,t){let[r=0,n=0,s=0]=e.split(".").map(Number),[a=0,i=0,o=0]=t.split(".").map(Number);return a-r||i-n||o-s}("5.1.0",n.Prisma.prismaVersion.client)>=0;return n.Prisma.defineExtension(r=>{let a=function(e){let t;let r=function(){let e=n.Prisma.prismaVersion;return["undefined"!=typeof navigator?navigator.userAgent:"undefined"!=typeof process&&void 0!==process.versions?`Node/${process.versions.node} (${process.platform}; ${process.arch})`:"EdgeRuntime"in globalThis?"Vercel-Edge-Runtime":"UnknownRuntime",`PrismaEngine/${e.engine}`,`PrismaClient/${e.client}`].join(" ")}();return async n=>{let{args:s}=n,{cacheStrategy:a,__accelerateInfo:i=!1,...o}=s,c=null,{__internalParams:u,query:l}=n;return(u.customDataProxyFetch=()=>async(n,s)=>{let i=[];"number"==typeof a?.ttl&&i.push(`max-age=${a.ttl}`),"number"==typeof a?.swr&&i.push(`stale-while-revalidate=${a.swr}`),s.headers={...s.headers,"cache-control":i.length>0?i.join(","):"no-cache","user-agent":r},t&&(s.headers["accelerate-query-engine-jwt"]=t);let o=await e(n,s);return c={cacheStatus:o.headers.get("accelerate-cache-status"),lastModified:new Date(o.headers.get("last-modified")??""),region:o.headers.get("cf-ray")?.split("-")[1]??"unspecified",requestId:o.headers.get("cf-ray")??"unspecified",signature:o.headers.get("accelerate-signature")??"unspecified"},t=o.headers.get("accelerate-query-engine-jwt")??void 0,o},i)?{data:await l(o,u),info:c}:l(o,u)}}(e),i=r.$extends({name:s,query:{$allModels:{$allOperations:a}}});return i.$extends({name:s,model:{$allModels:{aggregate(e){let r=n.Prisma.getExtensionContext(this),s=t?r.$parent[r.$name]:i[r.name];return Object.assign(s.aggregate(e),{withAccelerateInfo:()=>s.aggregate({...e,__accelerateInfo:!0})})},count(e){let r=n.Prisma.getExtensionContext(this),s=t?r.$parent[r.$name]:i[r.name];return Object.assign(s.count(e),{withAccelerateInfo:()=>s.count({...e,__accelerateInfo:!0})})},findFirst(e){let r=n.Prisma.getExtensionContext(this),s=t?r.$parent[r.$name]:i[r.name];return Object.assign(s.findFirst(e),{withAccelerateInfo:()=>s.findFirst({...e,__accelerateInfo:!0})})},findFirstOrThrow(e){let r=n.Prisma.getExtensionContext(this),s=t?r.$parent[r.$name]:i[r.name];return Object.assign(s.findFirstOrThrow(e),{withAccelerateInfo:()=>s.findFirstOrThrow({...e,__accelerateInfo:!0})})},findMany(e){let r=n.Prisma.getExtensionContext(this),s=t?r.$parent[r.$name]:i[r.name];return Object.assign(s.findMany(e),{withAccelerateInfo:()=>s.findMany({...e,__accelerateInfo:!0})})},findUnique(e){let r=n.Prisma.getExtensionContext(this),s=t?r.$parent[r.$name]:i[r.name];return Object.assign(s.findUnique(e),{withAccelerateInfo:()=>s.findUnique({...e,__accelerateInfo:!0})})},findUniqueOrThrow(e){let r=n.Prisma.getExtensionContext(this),s=t?r.$parent[r.$name]:i[r.name];return Object.assign(s.findUniqueOrThrow(e),{withAccelerateInfo:()=>s.findUniqueOrThrow({...e,__accelerateInfo:!0})})},groupBy(e){let r=n.Prisma.getExtensionContext(this),s=t?r.$parent[r.$name]:i[r.name];return Object.assign(s.groupBy(e),{withAccelerateInfo:()=>s.groupBy({...e,__accelerateInfo:!0})})}}}})})}("fetch"in globalThis?globalThis.fetch:i)}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[921],()=>r(26406));module.exports=n})();