(()=>{var e={};e.id=225,e.ids=[225],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},17804:e=>{"use strict";e.exports=require("@prisma/client/scripts/default-index.js")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},87503:e=>{"use strict";e.exports=require("node:net")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},84492:e=>{"use strict";e.exports=require("node:stream")},72477:e=>{"use strict";e.exports=require("node:stream/web")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},65628:e=>{"use strict";e.exports=require("node:zlib")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},44239:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c}),r(14992),r(56759),r(35866),r(39030);var a=r(23191),s=r(88716),n=r(37922),o=r.n(n),i=r(95231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["(chat)",{children:["(routes)",{children:["chat",{children:["[chatId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,14992)),"C:\\Users\\rages\\OneDrive\\Desktop\\New folder\\ai\\ai-companion\\app\\(chat)\\(routes)\\chat\\[chatId]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,56759)),"C:\\Users\\rages\\OneDrive\\Desktop\\New folder\\ai\\ai-companion\\app\\(chat)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,39030)),"C:\\Users\\rages\\OneDrive\\Desktop\\New folder\\ai\\ai-companion\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\rages\\OneDrive\\Desktop\\New folder\\ai\\ai-companion\\app\\(chat)\\(routes)\\chat\\[chatId]\\page.tsx"],d="/(chat)/(routes)/chat/[chatId]/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(chat)/(routes)/chat/[chatId]/page",pathname:"/chat/[chatId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7583:(e,t,r)=>{Promise.resolve().then(r.bind(r,41450)),Promise.resolve().then(r.bind(r,69925)),Promise.resolve().then(r.bind(r,16566)),Promise.resolve().then(r.bind(r,70223)),Promise.resolve().then(r.bind(r,7679))},35303:()=>{},41450:(e,t,r)=>{"use strict";r.d(t,{ChatClient:()=>el});var a=r(10326),s=r(17577),n=r(33795),o={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},i={code:"1",name:"function_call",parse:e=>{if(null==e||"object"!=typeof e||!("function_call"in e)||"object"!=typeof e.function_call||null==e.function_call||!("name"in e.function_call)||!("arguments"in e.function_call)||"string"!=typeof e.function_call.name||"string"!=typeof e.function_call.arguments)throw Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}}},l={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw Error('"data" parts expect an array value.');return{type:"data",value:e}}},c={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},u={code:"4",name:"assistant_message",parse:e=>{if(null==e||"object"!=typeof e||!("id"in e)||!("role"in e)||!("content"in e)||"string"!=typeof e.id||"string"!=typeof e.role||"assistant"!==e.role||!Array.isArray(e.content)||!e.content.every(e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},d={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},p={[o.code]:o,[i.code]:i,[l.code]:l,[c.code]:c,[u.code]:u,[d.code]:d};o.name,o.code,i.name,i.code,l.name,l.code,c.name,c.code,u.name,u.code,d.name,d.code;var m=[o,i,l,c,u,d].map(e=>e.code),h=e=>{let t=e.indexOf(":");if(-1===t)throw Error("Failed to parse stream string. No separator found.");let r=e.slice(0,t);if(!m.includes(r))throw Error(`Failed to parse stream string. Invalid code ${r}.`);let a=JSON.parse(e.slice(t+1));return p[r].parse(a)},f=((e,t=21)=>(r=t)=>{let a="",s=r;for(;s--;)a+=e[Math.random()*e.length|0];return a})("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7);function x(e){let t=new TextDecoder;return e?function(e){return t.decode(e,{stream:!0}).split("\n").filter(e=>""!==e).map(h).filter(Boolean)}:function(e){return e?t.decode(e,{stream:!0}):""}}async function y({reader:e,abortControllerRef:t,update:r,onFinish:a,generateId:s=f,getCurrentDate:n=()=>new Date}){let o=n(),i=x(!0),l={data:[]},c=[],u=0;for(;;){let{value:a}=await e.read();if(a&&(c.push(a),u+=a.length,10!==a[a.length-1]))continue;if(0===c.length)break;let n=new Uint8Array(u),d=0;for(let e of c)n.set(e,d),d+=e.length;c.length=0,u=0;let p=i(n);if("string"==typeof p)throw Error("Invalid response format. Complex mode was set but the response is a string. This should never happen.");for(let{type:a,value:n}of p){"text"===a&&(l.text?l.text={...l.text,content:(l.text.content||"")+n}:l.text={id:s(),role:"assistant",content:n,createdAt:o});let i=null;if("function_call"===a&&(l.function_call={id:s(),role:"assistant",content:"",function_call:n.function_call,name:n.function_call.name,createdAt:o},i=l.function_call),"data"===a&&l.data.push(...n),r([i,l.text].filter(Boolean),[...l.data]),(null==t?void 0:t.current)===null){e.cancel();break}}}return null==a||a(l),{messages:[l.text,l.function_call].filter(Boolean),data:l.data}}var g=r(35047),v=r(76557);let w=(0,v.Z)("SendHorizontal",[["path",{d:"m3 3 3 9-3 9 19-9Z",key:"1aobqy"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);var b=r(54432),j=r(90772);let _=({input:e,handleInputChange:t,onSubmit:r,isLoading:s})=>(0,a.jsxs)("form",{onSubmit:r,className:"border-t border-primary/10 py-4 flex items-center gap-x-2",children:[a.jsx(b.I,{disabled:s,value:e,onChange:t,placeholder:"Type a message",className:"rounded-lg bg-primary/10"}),a.jsx(j.z,{disabled:s,variant:"ghost",children:a.jsx(w,{className:"w-6 h-6"})})]});var k=r(24490);let q=(0,v.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),N=(0,v.Z)("MessagesSquare",[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v5Z",key:"16vlm8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]]),C=(0,v.Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),I=(0,v.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),E=(0,v.Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);var S=r(87017),P=r(45353),O=r(93095),M=r(55049),A=r(65819),D=r(45226);let R="Avatar",[Z,z]=(0,O.b)(R),[L,T]=Z(R),F=(0,s.forwardRef)((e,t)=>{let{__scopeAvatar:r,...a}=e,[n,o]=(0,s.useState)("idle");return(0,s.createElement)(L,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:o},(0,s.createElement)(D.WV.span,(0,P.Z)({},a,{ref:t})))}),U=(0,s.forwardRef)((e,t)=>{let{__scopeAvatar:r,src:a,onLoadingStatusChange:n=()=>{},...o}=e,i=T("AvatarImage",r),l=function(e){let[t,r]=(0,s.useState)("idle");return(0,A.b)(()=>{if(!e){r("error");return}let t=!0,a=new window.Image,s=e=>()=>{t&&r(e)};return r("loading"),a.onload=s("loaded"),a.onerror=s("error"),a.src=e,()=>{t=!1}},[e]),t}(a),c=(0,M.W)(e=>{n(e),i.onImageLoadingStatusChange(e)});return(0,A.b)(()=>{"idle"!==l&&c(l)},[l,c]),"loaded"===l?(0,s.createElement)(D.WV.img,(0,P.Z)({},o,{ref:t,src:a})):null}),V=(0,s.forwardRef)((e,t)=>{let{__scopeAvatar:r,delayMs:a,...n}=e,o=T("AvatarFallback",r),[i,l]=(0,s.useState)(void 0===a);return(0,s.useEffect)(()=>{if(void 0!==a){let e=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(e)}},[a]),i&&"loaded"!==o.imageLoadingStatus?(0,s.createElement)(D.WV.span,(0,P.Z)({},n,{ref:t})):null});var $=r(77863);let B=s.forwardRef(({className:e,...t},r)=>a.jsx(F,{ref:r,className:(0,$.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));B.displayName=F.displayName;let H=s.forwardRef(({className:e,...t},r)=>a.jsx(U,{ref:r,className:(0,$.cn)("aspect-square h-full w-full",e),...t}));H.displayName=U.displayName,s.forwardRef(({className:e,...t},r)=>a.jsx(V,{ref:r,className:(0,$.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t})).displayName=V.displayName;let W=({src:e})=>a.jsx(B,{className:"h-12 w-12",children:a.jsx(H,{src:e})});var G=r(60097),X=r(34789);let J=({companion:e})=>{let t=(0,g.useRouter)(),{user:r}=(0,S.aF)(),{toast:s}=(0,X.pm)(),n=async()=>{try{await k.Z.delete(`/api/companion/${e.id}`),s({description:"Success."}),t.refresh(),t.push("/")}catch(e){s({variant:"destructive",description:"Something went wrong."})}};return(0,a.jsxs)("div",{className:"flex w-full justify-between items-center border-b border-primary/10 pb-4",children:[(0,a.jsxs)("div",{className:"flex gap-x-2 items-center",children:[a.jsx(j.z,{onClick:()=>t.back(),size:"icon",variant:"ghost",children:a.jsx(q,{className:"h-8 w-8"})}),a.jsx(W,{src:e.src}),(0,a.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[a.jsx("p",{className:"font-bold",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx(N,{className:"w-3 h-3 mr-1"}),e._count.messages]})]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Created by ",e.userName]})]})]}),r?.id===e.userId&&(0,a.jsxs)(G.h_,{children:[a.jsx(G.$F,{asChild:!0,children:a.jsx(j.z,{variant:"secondary",size:"icon",children:a.jsx(C,{})})}),(0,a.jsxs)(G.AW,{align:"end",children:[(0,a.jsxs)(G.Xi,{onClick:()=>t.push(`/campanion/${e.id}`),children:[a.jsx(I,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,a.jsxs)(G.Xi,{onClick:n,children:[a.jsx(E,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})};var K={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Q(e){var t=function(e){if("number"==typeof e)return{value:e,unit:"px"};var t,r=(e.match(/^[0-9.]*/)||"").toString();t=r.includes(".")?parseFloat(r):parseInt(r,10);var a=(e.match(/[^0-9]*$/)||"").toString();return K[a]?{value:t,unit:a}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}(e);return"".concat(t.value).concat(t.unit)}var Y=function(){return(Y=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},ee=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r},et=function(e,t,r){var a="react-spinners-".concat(e,"-").concat(r);if("undefined"==typeof window||!window.document)return a;var s=document.createElement("style");document.head.appendChild(s);var n=s.sheet,o="\n    @keyframes ".concat(a," {\n      ").concat(t,"\n    }\n  ");return n&&n.insertRule(o,0),a}("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat");let er=function(e){var t=e.loading,r=e.color,a=void 0===r?"#000000":r,n=e.speedMultiplier,o=void 0===n?1:n,i=e.cssOverride,l=e.size,c=void 0===l?15:l,u=e.margin,d=void 0===u?2:u,p=ee(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),m=Y({display:"inherit"},void 0===i?{}:i),h=function(e){return{display:"inline-block",backgroundColor:a,width:Q(c),height:Q(c),margin:Q(d),borderRadius:"100%",animation:"".concat(et," ").concat(.7/o,"s ").concat(e%2?"0s":"".concat(.35/o,"s")," infinite linear"),animationFillMode:"both"}};return void 0===t||t?s.createElement("span",Y({style:m},p),s.createElement("span",{style:h(1)}),s.createElement("span",{style:h(2)}),s.createElement("span",{style:h(3)})):null},ea=(0,v.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var es=r(3574);let en=()=>{let{user:e}=(0,S.aF)();return a.jsx(B,{className:"h-12 w-12",children:a.jsx(H,{src:e?.imageUrl})})},eo=({role:e,content:t,isLoading:r,src:s})=>{let{toast:n}=(0,X.pm)(),{theme:o}=(0,es.F)();return(0,a.jsxs)("div",{className:(0,$.cn)("group flex items-start gap-x-3 py-4 w-full","user"===e&&"justify-end"),children:["user"!==e&&s&&a.jsx(W,{src:s}),a.jsx("div",{className:"rounded-md px-4 py-2 max-w-sm text-sm bg-primary/10",children:r?a.jsx(er,{color:"light"===o?"black":"white",size:5}):t}),"user"===e&&a.jsx(en,{}),"user"!==e&&!r&&a.jsx(j.z,{onClick:()=>{t&&(navigator.clipboard.writeText(t),n({description:"Message copied to clipboard.",duration:3e3}))},className:"opacity-0 group-hover:opacity-100 transition",size:"icon",variant:"ghost",children:a.jsx(ea,{className:"w-4 h-4"})})]})},ei=({messages:e=[],isLoading:t,companion:r})=>{let n=(0,s.useRef)(null),[o,i]=(0,s.useState)(0===e.length);return(0,s.useEffect)(()=>{let e=setTimeout(()=>{i(!1)},1e3);return()=>{clearTimeout(e)}},[]),(0,s.useEffect)(()=>{n?.current?.scrollIntoView({behavior:"smooth"})},[e.length]),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto pr-4",children:[a.jsx(eo,{isLoading:o,src:r.src,role:"system",content:`Hello, I am ${r.name}, ${r.description}`}),e.map(e=>a.jsx(eo,{src:r.src,content:e.content,role:e.role},e.content)),t&&a.jsx(eo,{src:r.src,role:"system",isLoading:!0}),a.jsx("div",{ref:n})]})},el=({companion:e})=>{let t=(0,g.useRouter)(),[r,o]=(0,s.useState)(e.messages),{input:i,isLoading:l,handleInputChange:c,handleSubmit:u,setInput:d}=function({api:e="/api/completion",id:t,initialCompletion:r="",initialInput:a="",credentials:o,headers:i,body:l,onResponse:c,onFinish:u,onError:d}={}){let p=(0,s.useId)(),m=t||p,{data:h,mutate:f}=(0,n.default)([e,m],null,{fallbackData:r}),{data:y=!1,mutate:g}=(0,n.default)([m,"loading"],null),[v,w]=(0,s.useState)(void 0),[b,j]=(0,s.useState)(null),_=(0,s.useRef)({credentials:o,headers:i,body:l}),k=(0,s.useCallback)(async(t,r)=>{try{g(!0),w(void 0);let a=new AbortController;j(a),f("",!1);let s=await fetch(e,{method:"POST",body:JSON.stringify({prompt:t,..._.current.body,...null==r?void 0:r.body}),credentials:_.current.credentials,headers:{..._.current.headers,...null==r?void 0:r.headers},signal:a.signal}).catch(e=>{throw e});if(c)try{await c(s)}catch(e){throw e}if(!s.ok)throw Error(await s.text()||"Failed to fetch the chat response.");if(!s.body)throw Error("The response body is empty.");let n="",o=s.body.getReader(),i=x();for(;;){let{done:e,value:t}=await o.read();if(e)break;if(n+=i(t),f(n,!1),null===a){o.cancel();break}}return u&&u(t,n),j(null),n}catch(e){if("AbortError"===e.name)return j(null),null;e instanceof Error&&d&&d(e),w(e)}finally{g(!1)}},[f,g,e,_,j,c,u,d,w]),q=(0,s.useCallback)(()=>{b&&(b.abort(),j(null))},[b]),N=(0,s.useCallback)(e=>{f(e,!1)},[f]),C=(0,s.useCallback)(async(e,t)=>k(e,t),[k]),[I,E]=(0,s.useState)(a),S=(0,s.useCallback)(e=>{if(e.preventDefault(),I)return C(I)},[I,C]);return{completion:h,complete:C,error:v,setCompletion:N,stop:q,input:I,setInput:E,handleInputChange:e=>{E(e.target.value)},handleSubmit:S,isLoading:y}}({api:`/api/chat/${e.id}`,onFinish(e,r){let a={role:"system",content:r};o(e=>[...e,a]),d(""),t.refresh()}});return(0,a.jsxs)("div",{className:"flex flex-col h-full p-4 space-y-2",children:[a.jsx(J,{companion:e}),a.jsx(ei,{companion:e,isLoading:l,messages:r}),a.jsx(_,{isLoading:l,input:i,handleInputChange:c,onSubmit:e=>{let t={role:"user",content:i};o(e=>[...e,t]),u(e)}})]})}},14992:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(19510),s=r(58585),n=r(12650),o=r(3719),i=r(68570);let l=(0,i.createProxy)(String.raw`C:\Users\rages\OneDrive\Desktop\New folder\ai\ai-companion\app\(chat)\(routes)\chat\[chatId]\components\client.tsx`),{__esModule:c,$$typeof:u}=l;l.default;let d=(0,i.createProxy)(String.raw`C:\Users\rages\OneDrive\Desktop\New folder\ai\ai-companion\app\(chat)\(routes)\chat\[chatId]\components\client.tsx#ChatClient`),p=async({params:e})=>{let{userId:t}=(0,n.I8)();if(!t)return(0,n.OX)();let r=await o.Z.companion.findUnique({where:{id:e.chatId},include:{messages:{orderBy:{createdAt:"asc"},where:{userId:t}},_count:{select:{messages:!0}}}});return r?a.jsx(d,{companion:r}):(0,s.redirect)("/")}},56759:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(19510);let s=({children:e})=>a.jsx("div",{className:"mx-auto max-w-4xl h-full w-full",children:e})}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[921,361,657,490,639],()=>r(44239));module.exports=a})();